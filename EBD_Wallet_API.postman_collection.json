{
    "info": {
        "_postman_id": "ebd-wallet-api-collection",
        "name": "EBD Wallet API",
        "description": "Complete API collection for the EBD Digital Wallet application demonstrating all endpoints working as expected.",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:5000/api",
            "type": "string"
        },
        {
            "key": "parentToken",
            "value": "",
            "type": "string"
        },
        {
            "key": "childToken",
            "value": "",
            "type": "string"
        },
        {
            "key": "childId",
            "value": "",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "Health Check",
            "item": [
                {
                    "name": "API Health Check",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has message', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.message).to.eql('Wallet API is running');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/health",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "health"
                            ]
                        },
                        "description": "Check if the API server is running and healthy."
                    },
                    "response": []
                }
            ],
            "description": "Basic health check endpoint to verify API is running."
        },
        {
            "name": "Authentication",
            "item": [
                {
                    "name": "Register Parent",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 201', function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has token', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.token).to.be.a('string');",
                                    "    pm.collectionVariables.set('parentToken', jsonData.token);",
                                    "});",
                                    "",
                                    "pm.test('User role is parent', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.user.role).to.eql('parent');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"testparent\",\n    \"email\": \"testparent@example.com\",\n    \"password\": \"password123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        },
                        "description": "Register a new parent account. Parents can create child accounts and manage allowances."
                    },
                    "response": []
                },
                {
                    "name": "Login Parent",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has token', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.token).to.be.a('string');",
                                    "    pm.collectionVariables.set('parentToken', jsonData.token);",
                                    "});",
                                    "",
                                    "pm.test('Login message is correct', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.message).to.eql('Login successful');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"testparent\",\n    \"password\": \"password123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "Login with existing credentials. Returns JWT token for authenticated requests."
                    },
                    "response": []
                },
                {
                    "name": "Create Child Account",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 201', function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Child role is child', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.child.role).to.eql('child');",
                                    "    pm.collectionVariables.set('childId', jsonData.child.id);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{parentToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"testchild\",\n    \"password\": \"childpass123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/create-child",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "create-child"
                            ]
                        },
                        "description": "Create a child account linked to the parent. Only authenticated parents can create child accounts."
                    },
                    "response": []
                },
                {
                    "name": "Login Child",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has token', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.token).to.be.a('string');",
                                    "    pm.collectionVariables.set('childToken', jsonData.token);",
                                    "});",
                                    "",
                                    "pm.test('User role is child', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.user.role).to.eql('child');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"testchild\",\n    \"password\": \"childpass123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "Login as child user to get authentication token."
                    },
                    "response": []
                },
                {
                    "name": "Get Parent Profile",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has user object', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.user).to.be.an('object');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{parentToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/auth/profile",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "profile"
                            ]
                        },
                        "description": "Get the authenticated user's profile information."
                    },
                    "response": []
                }
            ],
            "description": "Authentication endpoints for user registration, login, and profile management."
        },
        {
            "name": "Wallet Operations",
            "item": [
                {
                    "name": "Deposit (Top-Up)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has newBalance', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.newBalance).to.be.a('number');",
                                    "});",
                                    "",
                                    "pm.test('Deposit message is correct', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.message).to.eql('Deposit successful');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{parentToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"amount\": 500\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/wallet/deposit",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "wallet",
                                "deposit"
                            ]
                        },
                        "description": "Deposit/top-up funds to parent wallet. Only parents can deposit funds."
                    },
                    "response": []
                },
                {
                    "name": "Get Parent Balance",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has balance', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.balance).to.be.a('number');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{parentToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/wallet/balance",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "wallet",
                                "balance"
                            ]
                        },
                        "description": "Get current wallet balance for the authenticated user."
                    },
                    "response": []
                },
                {
                    "name": "Transfer to Child",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Transfer message is correct', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.message).to.eql('Transfer successful');",
                                    "});",
                                    "",
                                    "pm.test('Response has both balances', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.parentBalance).to.be.a('number');",
                                    "    pm.expect(jsonData.childBalance).to.be.a('number');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{parentToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"childId\": \"{{childId}}\",\n    \"amount\": 100\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/wallet/transfer",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "wallet",
                                "transfer"
                            ]
                        },
                        "description": "Transfer funds from parent to child as allowance."
                    },
                    "response": []
                },
                {
                    "name": "Get Child Balance",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has balance', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.balance).to.be.a('number');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{childToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/wallet/balance",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "wallet",
                                "balance"
                            ]
                        },
                        "description": "Get child's wallet balance after receiving allowance."
                    },
                    "response": []
                }
            ],
            "description": "Wallet operations including deposits, balance checks, and transfers."
        },
        {
            "name": "Transactions",
            "item": [
                {
                    "name": "Record Expense (Child)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Expense message is correct', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.message).to.eql('Expense recorded successfully');",
                                    "});",
                                    "",
                                    "pm.test('Response has transaction details', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.transaction).to.be.an('object');",
                                    "    pm.expect(jsonData.transaction.type).to.eql('expense');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{childToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"type\": \"expense\",\n    \"amount\": 25,\n    \"description\": \"School supplies\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/transactions",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "transactions"
                            ]
                        },
                        "description": "Record an expense transaction. Deducts amount from user's balance."
                    },
                    "response": []
                },
                {
                    "name": "Get Transaction History (Parent)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has transactions array', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.transactions).to.be.an('array');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{parentToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/transactions",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "transactions"
                            ]
                        },
                        "description": "Get transaction history. Parents can see their and their children's transactions."
                    },
                    "response": []
                },
                {
                    "name": "Get Transaction History (Child)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has transactions array', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.transactions).to.be.an('array');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{childToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/transactions",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "transactions"
                            ]
                        },
                        "description": "Get child's own transaction history."
                    },
                    "response": []
                },
                {
                    "name": "Filter Income Transactions",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has transactions array', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.transactions).to.be.an('array');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{childToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/transactions?type=income",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "transactions"
                            ],
                            "query": [
                                {
                                    "key": "type",
                                    "value": "income"
                                }
                            ]
                        },
                        "description": "Filter transactions to show only income (incoming transfers)."
                    },
                    "response": []
                },
                {
                    "name": "Filter Expense Transactions",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has transactions array', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.transactions).to.be.an('array');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{childToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/transactions?type=expense",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "transactions"
                            ],
                            "query": [
                                {
                                    "key": "type",
                                    "value": "expense"
                                }
                            ]
                        },
                        "description": "Filter transactions to show only expenses."
                    },
                    "response": []
                }
            ],
            "description": "Transaction endpoints for recording expenses and viewing transaction history."
        },
        {
            "name": "Analytics",
            "item": [
                {
                    "name": "Get Spending Forecast",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has forecast data', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.data).to.be.an('object');",
                                    "    pm.expect(jsonData.data.currentBalance).to.be.a('number');",
                                    "    pm.expect(jsonData.data.daysRemaining).to.be.a('number');",
                                    "    pm.expect(jsonData.data.safeDailySpend).to.be.a('number');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{childToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/analytics/forecast",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "analytics",
                                "forecast"
                            ]
                        },
                        "description": "Get daily spending forecast showing safe daily spend amount based on remaining balance and days left in month."
                    },
                    "response": []
                },
                {
                    "name": "Get Budget Tracker",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has success true', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(true);",
                                    "});",
                                    "",
                                    "pm.test('Response has budget data', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.data).to.be.an('object');",
                                    "    pm.expect(jsonData.data.totalBudget).to.be.a('number');",
                                    "    pm.expect(jsonData.data.spent).to.be.a('number');",
                                    "    pm.expect(jsonData.data.remaining).to.be.a('number');",
                                    "    pm.expect(jsonData.data.percentage).to.be.a('number');",
                                    "    pm.expect(jsonData.data.status).to.be.a('string');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{childToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/analytics/budget",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "analytics",
                                "budget"
                            ]
                        },
                        "description": "Get budget tracking data showing total budget, spent amount, remaining, percentage used, and status indicator."
                    },
                    "response": []
                }
            ],
            "description": "Analytics endpoints for spending forecast and budget tracking."
        },
        {
            "name": "Error Cases",
            "item": [
                {
                    "name": "Login with Invalid Credentials",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 401', function () {",
                                    "    pm.response.to.have.status(401);",
                                    "});",
                                    "",
                                    "pm.test('Response has success false', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(false);",
                                    "});",
                                    "",
                                    "pm.test('Error message is correct', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.message).to.eql('Invalid credentials');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"nonexistent\",\n    \"password\": \"wrongpassword\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "Demonstrate proper error handling for invalid login credentials."
                    },
                    "response": []
                },
                {
                    "name": "Access Protected Route Without Token",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 401', function () {",
                                    "    pm.response.to.have.status(401);",
                                    "});",
                                    "",
                                    "pm.test('Response has success false', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(false);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/wallet/balance",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "wallet",
                                "balance"
                            ]
                        },
                        "description": "Demonstrate proper authentication check - accessing protected route without token returns 401."
                    },
                    "response": []
                },
                {
                    "name": "Insufficient Balance for Expense",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 400', function () {",
                                    "    pm.response.to.have.status(400);",
                                    "});",
                                    "",
                                    "pm.test('Response has success false', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(false);",
                                    "});",
                                    "",
                                    "pm.test('Error message is correct', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.message).to.eql('Insufficient balance');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{childToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"type\": \"expense\",\n    \"amount\": 999999,\n    \"description\": \"Trying to spend more than balance\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/transactions",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "transactions"
                            ]
                        },
                        "description": "Demonstrate proper validation - attempting to spend more than available balance returns error."
                    },
                    "response": []
                },
                {
                    "name": "Child Cannot Deposit",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 403', function () {",
                                    "    pm.response.to.have.status(403);",
                                    "});",
                                    "",
                                    "pm.test('Response has success false', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(false);",
                                    "});",
                                    "",
                                    "pm.test('Error message is correct', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.message).to.eql('Only parents can deposit funds');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{childToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"amount\": 100\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/wallet/deposit",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "wallet",
                                "deposit"
                            ]
                        },
                        "description": "Demonstrate role-based access control - child accounts cannot deposit funds."
                    },
                    "response": []
                },
                {
                    "name": "Route Not Found (404)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 404', function () {",
                                    "    pm.response.to.have.status(404);",
                                    "});",
                                    "",
                                    "pm.test('Response has success false', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.success).to.eql(false);",
                                    "});",
                                    "",
                                    "pm.test('Error message is correct', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.message).to.eql('Route not found');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/nonexistent-route",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "nonexistent-route"
                            ]
                        },
                        "description": "Demonstrate proper 404 handling for non-existent routes."
                    },
                    "response": []
                }
            ],
            "description": "Error case demonstrations showing proper error handling throughout the API."
        }
    ]
}